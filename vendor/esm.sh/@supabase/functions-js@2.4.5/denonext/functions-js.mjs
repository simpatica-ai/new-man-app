/* esm.sh - @supabase/functions-js@2.4.5 */
var A=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>import("/@supabase/node-fetch@^2.6.14?target=denonext").then(({default:o})=>o(...r)):e=fetch,(...r)=>e(...r)};var f=class extends Error{constructor(e,r="FunctionsError",o){super(e),this.name=r,this.context=o}},x=class extends f{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}},d=class extends f{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}},y=class extends f{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}},m;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(m||(m={}));var C=function(t,e,r,o){function a(l){return l instanceof r?l:new r(function(n){n(l)})}return new(r||(r=Promise))(function(l,n){function p(i){try{u(o.next(i))}catch(s){n(s)}}function c(i){try{u(o.throw(i))}catch(s){n(s)}}function u(i){i.done?l(i.value):a(i.value).then(p,c)}u((o=o.apply(t,e||[])).next())})},w=class{constructor(e,{headers:r={},customFetch:o,region:a=m.Any}={}){this.url=e,this.headers=r,this.region=a,this.fetch=A(o)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var o;return C(this,void 0,void 0,function*(){try{let{headers:a,method:l,body:n}=r,p={},{region:c}=r;c||(c=this.region);let u=new URL(`${this.url}/${e}`);c&&c!=="any"&&(p["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let i;n&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&n instanceof Blob||n instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",i=n):typeof n=="string"?(p["Content-Type"]="text/plain",i=n):typeof FormData<"u"&&n instanceof FormData?i=n:(p["Content-Type"]="application/json",i=JSON.stringify(n)));let s=yield this.fetch(u.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),a),body:i}).catch(b=>{throw new x(b)}),v=s.headers.get("x-relay-error");if(v&&v==="true")throw new d(s);if(!s.ok)throw new y(s);let E=((o=s.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),h;return E==="application/json"?h=yield s.json():E==="application/octet-stream"?h=yield s.blob():E==="text/event-stream"?h=s:E==="multipart/form-data"?h=yield s.formData():h=yield s.text(),{data:h,error:null,response:s}}catch(a){return{data:null,error:a,response:a instanceof y||a instanceof d?a.context:void 0}}})}};export{m as FunctionRegion,w as FunctionsClient,f as FunctionsError,x as FunctionsFetchError,y as FunctionsHttpError,d as FunctionsRelayError};
//# sourceMappingURL=functions-js.mjs.map